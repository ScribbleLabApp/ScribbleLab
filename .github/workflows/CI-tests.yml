name: CI-tests
on:
  workflow_dispatch:
jobs:
  run-unit-tests:
    name: Run Unit Tests
    runs-on: macos-13
    steps:
      - name: Checkout 🛎️
        uses: actions/checkout@v3
      - name: List Xcode Versions 📋
        run: ls /Applications | grep Xcode
      - name: Select Xcode ✨
        run: sudo xcode-select -switch /Applications/Xcode_15.0.1.app/Contents/Developer
      - name: List SDKs 🎊
        run: xcodebuild -showsdks
      - name: List Simulators 📱
        run: xcrun simctl list --json
      - name: Run tests (UI & Unit tests) ✅
        run: xcodebuild -scheme ScribbleLab -sdk iphonesimulator -destination 'platform=iOS Simulator,name=iPad Pro (12.9-inch)' test